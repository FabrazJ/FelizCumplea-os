<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>90 Destellos para ti ü§ç</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:ital@0;1&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
    :root {
        --primary: #6a89cc;
        --accent: #e91e63;
        --bg-grad: linear-gradient(135deg, #fdfcfb 0%, #e2d1c3 100%);
        --glass: rgba(255, 255, 255, 0.85);
    }

    * { box-sizing: border-box; }

    body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: var(--bg-grad);
        font-family: 'Montserrat', sans-serif;
        overflow-x: hidden; /* Evita scroll lateral accidental */
        color: #333;
        padding: 20px;
    }

    /* VISTA 1: INICIO */
    .view-start {
        text-align: center;
        animation: fadeIn 1.2s ease-out;
        width: 100%;
        max-width: 400px;
    }

    .sobre-principal {
        width: 100%;
        height: 200px;
        background: white;
        border-radius: 24px;
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        border: 1px solid rgba(255,255,255,0.3);
    }

    .sobre-principal:hover {
        transform: translateY(-10px) scale(1.02);
    }

    .sobre-principal .icon { font-size: 4rem; }
    .sobre-principal p { 
        padding: 0 20px;
        font-size: 0.7rem; 
        letter-spacing: 2px; 
        color: var(--primary); 
        font-weight: 600;
        text-transform: uppercase;
    }

    /* VISTA 2: SELECTOR */
    .view-selector {
        display: none;
        width: 100%;
        max-width: 1200px;
        text-align: center;
        animation: slideUp 0.8s ease-out;
    }

    .view-selector h2 {
        font-family: 'Playfair Display', serif;
        font-size: clamp(1.5rem, 5vw, 2rem); /* Tama√±o fluido */
        color: #444;
        margin-bottom: 5px;
    }

    .scroll-wrapper {
        width: 100%;
        overflow-x: auto;
        white-space: nowrap;
        padding: 40px 0;
        cursor: grab;
        scroll-behavior: smooth;
        -webkit-overflow-scrolling: touch; /* Suavidad en iOS */
    }

    .scroll-wrapper::-webkit-scrollbar { display: none; }

    .mini-sobre {
        display: inline-flex;
        flex-direction: column;
        width: 130px;
        height: 90px;
        background: var(--glass);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        margin: 0 10px;
        justify-content: center;
        align-items: center;
        box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        transition: 0.3s;
        border: 1px solid rgba(255,255,255,0.5);
    }

    /* VISTA 3: CARTA */
    .view-carta {
        display: none;
        width: 100%;
        max-width: 500px;
        background: var(--glass);
        backdrop-filter: blur(15px);
        padding: 40px 25px;
        border-radius: 30px;
        text-align: center;
        box-shadow: 0 40px 100px rgba(0,0,0,0.1);
        border: 1px solid rgba(255,255,255,0.6);
        animation: zoomIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .titulo-carta { 
        font-family: 'Great Vibes', cursive; 
        font-size: clamp(2.5rem, 10vw, 3.5rem); 
        color: var(--accent); 
    }

    .texto-carta { 
        font-family: 'Playfair Display', serif; 
        font-size: clamp(1.1rem, 4vw, 1.4rem); 
        line-height: 1.6; 
        margin: 25px 0; 
        color: #444;
        min-height: 100px; /* Evita saltos de altura */
    }

    /* BOTONES RESPONSIVE */
    .btn-container { 
        display: flex; 
        flex-direction: row; 
        justify-content: center; 
        gap: 10px; 
        flex-wrap: wrap; 
    }

    .btn {
        padding: 12px 20px;
        border-radius: 50px;
        cursor: pointer;
        border: none;
        font-size: 0.75rem;
        font-weight: 600;
        transition: 0.3s;
        text-transform: uppercase;
        flex: 1; /* Los botones crecen igual */
        max-width: 180px;
    }

    .btn-next { background: var(--primary); color: white; }
    .btn-back { background: rgba(0,0,0,0.05); color: #666; }

    /* MEDIA QUERIES PARA M√ìVILES PEQUE√ëOS */
    @media (max-width: 480px) {
        body { padding: 15px; }
        .view-carta { padding: 30px 20px; }
        .btn-container { flex-direction: column; align-items: center; }
        .btn { width: 100%; max-width: 100%; }
        .scroll-wrapper { padding: 20px 0; }
    }

    /* ANIMACIONES */
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes zoomIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

</style>
</head>
<body>

    <div class="view-start" id="viewStart">
        <div class="sobre-principal" onclick="goToSelector()">
            <div class="icon">üíå</div>
            <p>90 Se√±ales para Mar√≠a Jos√©</p>
        </div>
    </div>

    <div class="view-selector" id="viewSelector">
        <h2>Para cada momento</h2>
        <p style="color: #888; font-size: 0.8rem; margin-bottom: 20px;">Desliza y elige un sobre</p>
        
        <div class="scroll-wrapper" id="scrollContainer"></div>

        <button class="btn btn-back" style="margin-top: 20px;" onclick="location.reload()">Regresar</button>
    </div>

    <div class="view-carta" id="viewCarta">
        <div class="titulo-carta">Para ti</div>
        <div class="texto-carta" id="textoCarta"></div>
        <div class="btn-container">
            <button class="btn btn-back" onclick="backToSelector()">‚Üê Volver</button>
            <button class="btn btn-next" onclick="cambiarFrase()">Otra se√±al ‚ú®</button>
        </div>
    </div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
<script>
// El JavaScript se mantiene casi igual, solo agregamos una peque√±a mejora de UX
const mensajes = [
    "Si hoy todo pesa un poco m√°s, recuerda que no est√°s rota.", "Incluso en silencio sigues siendo luz.", "No tienes que ser perfecta para ser incre√≠ble.", "Tu brillo est√° en tu esencia, no en tus logros.", "Ma√±ana ser√° un nuevo comienzo.", "Descansa hoy, que tu alma necesita calma.", "Eres mucho m√°s fuerte de lo que crees.", "Conf√≠a en el proceso.", "Tu sensibilidad es un superpoder.", "Incluso las flores necesitan lluvia para crecer.",
    "Est√°s exactamente donde necesitas estar.", "Lo est√°s haciendo mucho mejor de lo que piensas.", "Que tu prioridad hoy sea estar bien contigo.", "Tu sonrisa puede cambiar tu propio d√≠a.", "Conf√≠a en el tiempo.", "Eres valiosa por el simple hecho de existir.", "Deja ir lo que no puedes controlar.", "Tu versi√≥n del futuro agradece que no te rindas.", "La paz mental es el √©xito m√°s grande.", "Mereces lo que sue√±as.",
    "Un paso a la vez es suficiente.", "Eres tu proyecto m√°s importante.", "Cuidar de ti no es ego√≠smo.", "Tu coraz√≥n sabe el camino.", "Cree en tu magia.", "Eres el cielo, todo lo dem√°s es el clima.", "Tus miedos no definen tu capacidad.", "Cada d√≠a es una nueva oportunidad.", "S√© amable contigo misma.", "Florece a tu propio ritmo.",
    "No compares tu cap√≠tulo 1 con el 20 de otros.", "Eres suficiente.", "Hoy es un regalo.", "Escucha tu intuici√≥n.", "Tu valent√≠a es inspiradora.", "Respira profundo.", "Todo pasa por algo.", "Lo bueno toma tiempo.", "Eres luz en la oscuridad.", "√Åmate un poquito m√°s hoy.",
    "No necesitas permiso para brillar.", "Tus errores son lecciones disfrazadas.", "El universo conspira a tu favor.", "Hoy decido ser feliz.", "La gratitud transforma lo que tenemos.", "Eres una obra de arte.", "Tu paz es innegociable.", "Acepta lo que es.", "Suelta lo que fue.", "Ten fe en lo que vendr√°.",
    "Tu voz importa.", "Eres √∫nica en este mundo.", "Nadie es como t√∫ y ese es tu poder.", "Sigue adelante.", "Brilla sin apagar a nadie.", "La magia est√° en los detalles.", "Hoy ser√° un gran d√≠a.", "Sonr√≠e, te ves hermosa.", "Eres capaz de cosas incre√≠bles.", "Tu energ√≠a es especial.",
    "No te detengas hasta estar orgullosa.", "Crea tu propia felicidad.", "Eres un im√°n de cosas buenas.", "Vive el presente.", "Tu potencial es infinito.", "Cada cicatriz cuenta una historia de fuerza.", "No est√°s sola.", "Abraza tu vulnerabilidad.", "Eres resistencia.", "Eres evoluci√≥n.",
    "Elige pensamientos que te hagan bien.", "Tu hogar es tu coraz√≥n.", "Aprende a descansar, no a rendirte.", "Eres una guerrera silenciosa.", "Busca la paz, no la raz√≥n.", "S√© tu propia prioridad.", "La vida es bella contigo.", "Eres un milagro.", "Nunca pierdas tu curiosidad.", "Conf√≠a en tus alas.",
    "El sol siempre vuelve a salir.", "Eres due√±a de tu destino.", "Tu calma es tu fuerza.", "Hoy atraigo abundancia.", "Soy amor.", "Soy luz.", "Soy capaz.", "Soy libre.", "Soy yo misma.", "Y eso es suficiente."
];

const container = document.getElementById('scrollContainer');

for (let i = 1; i <= 90; i++) {
    const div = document.createElement('div');
    div.className = 'mini-sobre';
    div.innerHTML = `<div style="font-size:1.8rem">‚úâÔ∏è</div><span>DESTELLO ${i}</span>`;
    div.onclick = openCarta;
    container.appendChild(div);
}

function goToSelector() {
    document.getElementById('viewStart').style.display = 'none';
    document.getElementById('viewSelector').style.display = 'block';
}

function openCarta() {
    document.getElementById('viewSelector').style.display = 'none';
    document.getElementById('viewCarta').style.display = 'block';
    cambiarFrase();
}

function backToSelector() {
    document.getElementById('viewCarta').style.display = 'none';
    document.getElementById('viewSelector').style.display = 'block';
}

function cambiarFrase() {
    const texto = document.getElementById('textoCarta');
    texto.style.opacity = 0;
    
    setTimeout(() => {
        const randomIdx = Math.floor(Math.random() * mensajes.length);
        texto.innerText = mensajes[randomIdx];
        texto.style.opacity = 1;
        confetti({
            particleCount: 40,
            spread: 60,
            origin: { y: 0.8 },
            colors: ['#6a89cc', '#e91e63', '#ffffff']
        });
    }, 200);
}

// Soporte de arrastre t√°ctil y mouse
let isDown = false;
let startX;
let scrollLeft;

container.addEventListener('mousedown', (e) => {
    isDown = true;
    startX = e.pageX - container.offsetLeft;
    scrollLeft = container.scrollLeft;
});
container.addEventListener('mouseleave', () => isDown = false);
container.addEventListener('mouseup', () => isDown = false);
container.addEventListener('mousemove', (e) => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - container.offsetLeft;
    const walk = (x - startX) * 2; 
    container.scrollLeft = scrollLeft - walk;
});
</script>
</body>
</html>