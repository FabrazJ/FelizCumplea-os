<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feliz CumpleaÃ±os ðŸŽ‰</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:ital@0;1&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">

<style>
  :root {
    --primary: #e91e63;
    --soft-pink: #ffe4ec;
  }

  body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: radial-gradient(circle, #ffffff 0%, #ffe4ec 100%);
    font-family: 'Montserrat', sans-serif;
    overflow: hidden;
  }

  /* Sobre estilizado */
  .sobre {
    width: 320px;
    height: 200px;
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 20px 60px rgba(233, 30, 99, 0.2);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    border: 2px dashed var(--primary);
  }

  .sobre:hover {
    transform: translateY(-15px) rotate(2deg);
    box-shadow: 0 30px 70px rgba(233, 30, 99, 0.3);
  }

  .sobre span {
    margin-top: 15px;
    font-size: 0.9rem;
    color: var(--primary);
    letter-spacing: 2px;
    font-weight: 500;
  }

  /* Carta con diseÃ±o premium */
  .carta {
    display: none;
    background: #fff;
    padding: 60px 40px;
    border-radius: 30px;
    max-width: 600px;
    width: 90%;
    text-align: center;
    box-shadow: 0 40px 100px rgba(0,0,0,0.1);
    position: relative;
    border: 1px solid #f0f0f0;
  }

  .carta::before {
    content: "âœ¨";
    position: absolute;
    top: 20px;
    left: 20px;
    font-size: 2rem;
    opacity: 0.3;
  }

  .titulo {
    font-family: 'Great Vibes', cursive;
    font-size: clamp(3.5rem, 10vw, 5.5rem);
    color: var(--primary);
    margin-bottom: 20px;
  }

  .texto {
    font-family: 'Playfair Display', serif;
    font-size: clamp(1.1rem, 4vw, 1.5rem);
    line-height: 1.8;
    color: #444;
    font-style: italic;
  }

  /* BotÃ³n para seguir el flujo */
  .btn-continuar {
    margin-top: 40px;
    padding: 12px 35px;
    background: var(--primary);
    color: white;
    text-decoration: none;
    border-radius: 50px;
    display: inline-block;
    font-size: 0.9rem;
    font-weight: 500;
    transition: 0.3s;
    border: none;
    cursor: pointer;
    box-shadow: 0 10px 20px rgba(233, 30, 99, 0.2);
  }

  .btn-continuar:hover {
    transform: scale(1.05);
    background: #c2185b;
  }

  /* AnimaciÃ³n de entrada */
  .fade-in {
    animation: abrir 1.5s cubic-bezier(0.22, 1, 0.36, 1);
  }

  @keyframes abrir {
    from { opacity: 0; transform: scale(0.9) translateY(30px); }
    to { opacity: 1; transform: scale(1) translateY(0); }
  }

  canvas {
    position: absolute;
    top: 0; left: 0;
    pointer-events: none;
  }
</style>
</head>

<body>

  <div class="sobre" onclick="abrirCarta()">
    <div style="font-size: 4rem;">ðŸ’Œ</div>
    <span>TÃ“CAME</span>
  </div>

  <div class="carta" id="carta">
    <div class="titulo">Feliz CumpleaÃ±os</div>
    <div class="texto">
      Que la vida te abrace despacio,<br>
      que nunca olvides lo especial que eres,<br>
      y que hoy â€”y siempreâ€”<br>
      te sientas profundamente celebrada.
    </div>
    
    <a href="../index.html" class="btn-continuar" onclick="guardarProgreso()">Continuar el camino â†’</a>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

  <script>
    function abrirCarta() {
      document.querySelector('.sobre').style.display = "none";
      const carta = document.getElementById('carta');
      carta.style.display = "block";
      carta.classList.add('fade-in');

      // Lanzar confeti al abrir
      var duration = 3 * 1000;
      var end = Date.now() + duration;

      (function frame() {
        confetti({
          particleCount: 3,
          angle: 60,
          spread: 55,
          origin: { x: 0 },
          colors: ['#e91e63', '#ffe4ec']
        });
        confetti({
          particleCount: 3,
          angle: 120,
          spread: 55,
          origin: { x: 1 },
          colors: ['#e91e63', '#ffe4ec']
        });

        if (Date.now() < end) {
          requestAnimationFrame(frame);
        }
      }());
    }

    function guardarProgreso() {
      // Marcamos que ya leyÃ³ la carta de cumple para que el index muestre el paso 3
      localStorage.setItem('read_cumple', 'true');
    }
  </script>

</body>
</html>